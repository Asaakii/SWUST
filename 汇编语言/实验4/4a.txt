DATA SEGMENT

STRBUF DB ‘Please input a string :’，’$’

KEYLEN DB 64

KEYNUM DB ?

KEYBUF DW 64 DUP(?)

DATA ENDS

STACK SEGMENT

DB 100 DUP(0)

TOP DW ？

STACK ENDS

CODE SEGMENT

ASSUME CS：CODE，DS：DATA,SS:STACK

START:

MOV AX,DATA

MOV DS，AX

MOV AX,STACK

MOV SS,AX

MOV SP,OFFSET TOP

LEA DX,STRBUF

MOV AH,9

INT 21H ；显示一个字符串

LEA DX,KEYLEN

MOV AH,0AH

INT 21H ；从键盘接受一个字符串

CALL CRLF ；输出回车换行

MOV BL,KEYNUM ；得到实际输入的字符数

MOV BH,0

ADD BX,DX

MOV BYTE PTR[BX],’$’；在字符串末尾添一个‘$’

MOV AH,9

INT 21H ；显示从键盘接受的字符串

CALL CRLF

MOV AH,4CH

INT 21H

CRLF PROC NEAR

PUSH AX

PUSH DX

MOV DL,0DH

MOV AH,2

INT 21H

MOV DL,0AH

MOV AH,2

INT 21H

POP DX

POP AX

RET

CRLF ENDP

CODE ENDS

END START