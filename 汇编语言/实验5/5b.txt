

DATA SEGMENT
	A DW 9150，3756，10345
	DW 4060，12576，300，666
	DW 3420，456，1024
	N EQU 10
DATA ENDS

CODE SEGMENT
	ASSUM CS:CODE，DS:DATA 
START:
	MOV AX，DATA
	MOV DS，AX
	MOV CX，N-1
	MOV BX，0
LOOP1:
	MOV DX，CX
	MOV SI，0
LOOP2:
	MOV AX，A[BX]
	CMP AX，A[BX+SI+2]
	JNA L1
	MOV DI，A[BX]
	MOV AX，A[BX+SI+2]
	MOV A[BX]，AX
	MOV A[BX+SI+2]，DI
L1:
	ADD SI，2
	LOOP LOOP2
	ADD BX，2
	MOV CX，DX
	LOOP LOOP1
	MOV AH，4CH

	INT 21H
CODE ENDS

END START

;上述已排序的数据区里查找一个从键盘输入的数 若找到 显示其在数据区中的位置 否则显示 N 字符 

SSEG SEGMENT PARA STACK‘STACK’ 
	STA DB 100 DUP(,) 
SSEG ENDS

DATA SEGMENT
	DAT DB 5，27，32，37，50
	DB 56，68，76，80，83
	N DB 10
	KEY DB ,
	BUF DB ‘请输入关键字:’，24H
DATA ENDS

CODE SEGMENT
	ASSUME CS:CODE，DS:DATA，SS:SSEG
START:
	MOV AX，DATA
	MOV DS，AX
	LEA DX，BUF
	MOV AH，9
	INT 21H
	MOV AH，1
	INT 21H
	SUB AL，30H
	MOV DL，10
	MUL DL
	MOV DL，AL
	MOV AH，1

	INT 21H
	SUB AL，30H
	ADD DL，AL
	MOV KEY，DL
	MOV AH，2
	MOV DL，13

	INT 21H
	MOV DL，10
	
	INT 21H
	MOV BL，0
	MOV BH，9
	LEA DI，DAT
	MOV CL，KEY
LP:
	MOV AH，0
	MOV AL，BH
	ADD AL，BL
	SHR AL，1
	MOV CH，AL
	ADD AX，DI
	MOV SI，AX
	CMP CL，[SI]

	JZ FOUND
	MOV AL，CH
	
	JA HIG
	DEC CH
	MOV BH，CH

	JMP CPP
HIG:
	INC CH
	MOV BL，CH
CPP:
	CMP BL，BH
	JA NFOUND 
	JMP LP
FOUND:
	MOV DL，CH
	OR DL，30H
	JMP DISPLAY 
NFOUND:
	MOV DL，‘N’
DISPLAY:
	MOV AH，2
	INT 21H
	MOV AH，4CH
	INT 21H

CODE ENDS

END START
